{"ast":null,"code":"var _jsxFileName = \"/Users/mairaquintero/Desktop/project-salas/src/components/ReservationForm.js\",\n  _s = $RefreshSig$();\n// src/components/ReservationForm.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Save, X, Calendar, Clock, MapPin, Mail, AlignLeft } from 'lucide-react';\nimport { useReservations } from '../context/ReservationsContext'; // Necesario para obtener la lista de salas\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReservationForm = ({\n  reservationToEdit,\n  prefillData,\n  onUpsert,\n  onCancel,\n  userName\n}) => {\n  _s();\n  const {\n    rooms\n  } = useReservations(); // Obtenemos las salas del contexto para el select\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // --- 1. VALORES INICIALES ---\n  // Determinamos si es edición, creación desde cero, o creación desde el calendario (prefill)\n  const getInitialValues = () => {\n    if (reservationToEdit) {\n      var _reservationToEdit$ro;\n      // MODO EDICIÓN\n      const start = new Date(reservationToEdit.startTime);\n      const end = new Date(reservationToEdit.endTime);\n      return {\n        title: reservationToEdit.title || '',\n        roomId: ((_reservationToEdit$ro = reservationToEdit.room) === null || _reservationToEdit$ro === void 0 ? void 0 : _reservationToEdit$ro.id) || reservationToEdit.roomId || '',\n        // Intentamos obtener el ID\n        date: start.toISOString().split('T')[0],\n        startTime: start.toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit',\n          hour12: false\n        }),\n        endTime: end.toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit',\n          hour12: false\n        }),\n        description: reservationToEdit.description || '',\n        roomEmail: reservationToEdit.roomEmail || '' // Si lo tienes guardado\n      };\n    } else if (prefillData) {\n      // MODO PRE-LLENADO (Desde Calendario)\n      // prefillData trae: { roomId, date, start (HH:mm), endTime (ISO) }\n      const endObj = new Date(prefillData.endTime);\n      const endTimeStr = endObj.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: false\n      });\n      return {\n        title: '',\n        roomId: prefillData.roomId || '',\n        date: prefillData.date || new Date().toISOString().split('T')[0],\n        startTime: prefillData.start || '08:00',\n        endTime: endTimeStr || '09:00',\n        description: '',\n        roomEmail: ''\n      };\n    } else {\n      // MODO NUEVO (Por defecto)\n      return {\n        title: '',\n        roomId: '',\n        // Select vacío por defecto\n        date: new Date().toISOString().split('T')[0],\n        startTime: '08:00',\n        endTime: '09:00',\n        description: '',\n        roomEmail: ''\n      };\n    }\n  };\n\n  // --- 2. ESQUEMA DE VALIDACIÓN ---\n  const validationSchema = Yup.object().shape({\n    title: Yup.string().required('El título es obligatorio'),\n    roomId: Yup.string().required('Debes seleccionar una sala'),\n    date: Yup.string().required('La fecha es obligatoria'),\n    startTime: Yup.string().required('Hora de inicio requerida'),\n    endTime: Yup.string().required('Hora de fin requerida').test('is-greater', 'La hora de fin debe ser mayor', function (value) {\n      const {\n        startTime\n      } = this.parent;\n      return value > startTime;\n    })\n  });\n\n  // --- 3. MANEJO DEL ENVÍO (Aquí estaba el error) ---\n  const handleSubmit = async (values, {\n    setSubmitting\n  }) => {\n    setLoading(true);\n    setError(null);\n    try {\n      // a. Buscar la sala completa para obtener su email y nombre\n      const selectedRoom = rooms.find(r => r.id === values.roomId);\n      if (!selectedRoom) throw new Error(\"Sala no válida seleccionada\");\n\n      // b. Construir las fechas ISO completas\n      // Nota: values.date es \"YYYY-MM-DD\", values.startTime es \"HH:mm\"\n      const startDateTimeISO = `${values.date}T${values.startTime}:00`;\n      const endDateTimeISO = `${values.date}T${values.endTime}:00`;\n\n      // c. Preparar el Payload\n      const payload = {\n        id: reservationToEdit === null || reservationToEdit === void 0 ? void 0 : reservationToEdit.id,\n        // Si existe ID, es edición\n        title: values.title,\n        startTime: startDateTimeISO,\n        endTime: endDateTimeISO,\n        room: selectedRoom,\n        // Pasamos el objeto sala completo\n        roomEmail: selectedRoom.email,\n        // El email es vital para Outlook\n        description: values.description\n      };\n\n      // d. Llamar a la función del Contexto\n      // ✅ CORRECCIÓN: Esperamos la respuesta y NO usamos variables indefinidas\n      await onUpsert(payload);\n\n      // e. Si no hubo error en el await, cerramos el formulario\n      onCancel();\n    } catch (err) {\n      console.error(\"Error en ReservationForm:\", err);\n      setError(err.message || \"Error al guardar la reserva.\");\n    } finally {\n      setLoading(false);\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-[#151A20] rounded-2xl shadow-xl border border-gray-100 dark:border-[#232A36] overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 dark:bg-[#1C2128] px-6 py-4 border-b border-gray-100 dark:border-[#232A36] flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800 dark:text-white\",\n        children: reservationToEdit ? 'Editar Reserva' : 'Nueva Reserva'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onCancel,\n        className: \"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-6 mt-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: getInitialValues(),\n        validationSchema: validationSchema,\n        onSubmit: handleSubmit,\n        enableReinitialize: true // Importante si cambias de \"Nueva\" a \"Editar\" dinámicamente\n        ,\n        children: ({\n          isSubmitting\n        }) => /*#__PURE__*/_jsxDEV(Form, {\n          className: \"space-y-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: \"T\\xEDtulo del evento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(AlignLeft, {\n                className: \"absolute left-3 top-3 text-gray-400\",\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                name: \"title\",\n                placeholder: \"Ej: Reuni\\xF3n de Estrategia\",\n                className: \"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"title\",\n              component: \"div\",\n              className: \"text-red-500 text-xs mt-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: \"Sala\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"absolute left-3 top-3 text-gray-400\",\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                as: \"select\",\n                name: \"roomId\",\n                className: \"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none appearance-none\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"Selecciona una sala...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: room.id,\n                  children: [room.nombre, \" (Cap: \", room.capacidad, \")\"]\n                }, room.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"roomId\",\n              component: \"div\",\n              className: \"text-red-500 text-xs mt-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"absolute left-3 top-3 text-gray-400\",\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  type: \"date\",\n                  name: \"date\",\n                  className: \"w-full pl-10 pr-2 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"date\",\n                component: \"div\",\n                className: \"text-red-500 text-xs mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                children: \"Inicio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  className: \"absolute left-3 top-3 text-gray-400\",\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  type: \"time\",\n                  name: \"startTime\",\n                  className: \"w-full pl-10 pr-2 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"startTime\",\n                component: \"div\",\n                className: \"text-red-500 text-xs mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n                children: \"Fin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  className: \"absolute left-3 top-3 text-gray-400\",\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  type: \"time\",\n                  name: \"endTime\",\n                  className: \"w-full pl-10 pr-2 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"endTime\",\n                component: \"div\",\n                className: \"text-red-500 text-xs mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: \"Descripci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              as: \"textarea\",\n              name: \"description\",\n              rows: \"3\",\n              placeholder: \"Detalles adicionales...\",\n              className: \"w-full px-4 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4 flex items-center justify-end gap-3 border-t border-gray-100 dark:border-[#232A36]\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onCancel,\n              className: \"px-5 py-2.5 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-[#1C2128] font-medium transition-colors\",\n              disabled: loading || isSubmitting,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading || isSubmitting,\n              className: \"px-6 py-2.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium shadow-lg shadow-blue-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed\",\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 23\n                }, this), \"Guardando...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 23\n                }, this), reservationToEdit ? 'Actualizar Reserva' : 'Crear Reserva']\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_s(ReservationForm, \"m8XuT+DfCiDvHMdh3xiUz7k8h6Y=\", false, function () {\n  return [useReservations];\n});\n_c = ReservationForm;\nexport default ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["React","useState","useEffect","Formik","Form","Field","ErrorMessage","Yup","Save","X","Calendar","Clock","MapPin","Mail","AlignLeft","useReservations","jsxDEV","_jsxDEV","Fragment","_Fragment","ReservationForm","reservationToEdit","prefillData","onUpsert","onCancel","userName","_s","rooms","loading","setLoading","error","setError","getInitialValues","_reservationToEdit$ro","start","Date","startTime","end","endTime","title","roomId","room","id","date","toISOString","split","toLocaleTimeString","hour","minute","hour12","description","roomEmail","endObj","endTimeStr","validationSchema","object","shape","string","required","test","value","parent","handleSubmit","values","setSubmitting","selectedRoom","find","r","Error","startDateTimeISO","endDateTimeISO","payload","email","err","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","initialValues","onSubmit","enableReinitialize","isSubmitting","name","placeholder","component","as","disabled","map","nombre","capacidad","type","rows","_c","$RefreshReg$"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/components/ReservationForm.js"],"sourcesContent":["// src/components/ReservationForm.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Save, X, Calendar, Clock, MapPin, Mail, AlignLeft } from 'lucide-react';\nimport { useReservations } from '../context/ReservationsContext'; // Necesario para obtener la lista de salas\n\nconst ReservationForm = ({ \n  reservationToEdit, \n  prefillData, \n  onUpsert, \n  onCancel, \n  userName \n}) => {\n  const { rooms } = useReservations(); // Obtenemos las salas del contexto para el select\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // --- 1. VALORES INICIALES ---\n  // Determinamos si es edición, creación desde cero, o creación desde el calendario (prefill)\n  const getInitialValues = () => {\n    if (reservationToEdit) {\n      // MODO EDICIÓN\n      const start = new Date(reservationToEdit.startTime);\n      const end = new Date(reservationToEdit.endTime);\n      \n      return {\n        title: reservationToEdit.title || '',\n        roomId: reservationToEdit.room?.id || reservationToEdit.roomId || '', // Intentamos obtener el ID\n        date: start.toISOString().split('T')[0],\n        startTime: start.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false }),\n        endTime: end.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false }),\n        description: reservationToEdit.description || '',\n        roomEmail: reservationToEdit.roomEmail || '', // Si lo tienes guardado\n      };\n    } else if (prefillData) {\n      // MODO PRE-LLENADO (Desde Calendario)\n      // prefillData trae: { roomId, date, start (HH:mm), endTime (ISO) }\n      const endObj = new Date(prefillData.endTime);\n      const endTimeStr = endObj.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false });\n\n      return {\n        title: '',\n        roomId: prefillData.roomId || '',\n        date: prefillData.date || new Date().toISOString().split('T')[0],\n        startTime: prefillData.start || '08:00',\n        endTime: endTimeStr || '09:00',\n        description: '',\n        roomEmail: '',\n      };\n    } else {\n      // MODO NUEVO (Por defecto)\n      return {\n        title: '',\n        roomId: '', // Select vacío por defecto\n        date: new Date().toISOString().split('T')[0],\n        startTime: '08:00',\n        endTime: '09:00',\n        description: '',\n        roomEmail: '',\n      };\n    }\n  };\n\n  // --- 2. ESQUEMA DE VALIDACIÓN ---\n  const validationSchema = Yup.object().shape({\n    title: Yup.string().required('El título es obligatorio'),\n    roomId: Yup.string().required('Debes seleccionar una sala'),\n    date: Yup.string().required('La fecha es obligatoria'),\n    startTime: Yup.string().required('Hora de inicio requerida'),\n    endTime: Yup.string().required('Hora de fin requerida')\n      .test('is-greater', 'La hora de fin debe ser mayor', function(value) {\n        const { startTime } = this.parent;\n        return value > startTime;\n      }),\n  });\n\n  // --- 3. MANEJO DEL ENVÍO (Aquí estaba el error) ---\n  const handleSubmit = async (values, { setSubmitting }) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // a. Buscar la sala completa para obtener su email y nombre\n      const selectedRoom = rooms.find(r => r.id === values.roomId);\n      if (!selectedRoom) throw new Error(\"Sala no válida seleccionada\");\n\n      // b. Construir las fechas ISO completas\n      // Nota: values.date es \"YYYY-MM-DD\", values.startTime es \"HH:mm\"\n      const startDateTimeISO = `${values.date}T${values.startTime}:00`;\n      const endDateTimeISO = `${values.date}T${values.endTime}:00`;\n\n      // c. Preparar el Payload\n      const payload = {\n        id: reservationToEdit?.id, // Si existe ID, es edición\n        title: values.title,\n        startTime: startDateTimeISO,\n        endTime: endDateTimeISO,\n        room: selectedRoom, // Pasamos el objeto sala completo\n        roomEmail: selectedRoom.email, // El email es vital para Outlook\n        description: values.description,\n      };\n\n      // d. Llamar a la función del Contexto\n      // ✅ CORRECCIÓN: Esperamos la respuesta y NO usamos variables indefinidas\n      await onUpsert(payload);\n\n      // e. Si no hubo error en el await, cerramos el formulario\n      onCancel();\n\n    } catch (err) {\n      console.error(\"Error en ReservationForm:\", err);\n      setError(err.message || \"Error al guardar la reserva.\");\n    } finally {\n      setLoading(false);\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-[#151A20] rounded-2xl shadow-xl border border-gray-100 dark:border-[#232A36] overflow-hidden\">\n      \n      {/* HEADER */}\n      <div className=\"bg-gray-50 dark:bg-[#1C2128] px-6 py-4 border-b border-gray-100 dark:border-[#232A36] flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold text-gray-800 dark:text-white\">\n          {reservationToEdit ? 'Editar Reserva' : 'Nueva Reserva'}\n        </h2>\n        <button \n          onClick={onCancel}\n          className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400\"\n        >\n          <X size={20} />\n        </button>\n      </div>\n\n      {/* MENSAJE DE ERROR GLOBAL */}\n      {error && (\n        <div className=\"mx-6 mt-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm\">\n          {error}\n        </div>\n      )}\n\n      {/* FORMULARIO */}\n      <div className=\"p-6\">\n        <Formik\n          initialValues={getInitialValues()}\n          validationSchema={validationSchema}\n          onSubmit={handleSubmit}\n          enableReinitialize // Importante si cambias de \"Nueva\" a \"Editar\" dinámicamente\n        >\n          {({ isSubmitting }) => (\n            <Form className=\"space-y-5\">\n              \n              {/* TÍTULO */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Título del evento</label>\n                <div className=\"relative\">\n                  <AlignLeft className=\"absolute left-3 top-3 text-gray-400\" size={18} />\n                  <Field \n                    name=\"title\" \n                    placeholder=\"Ej: Reunión de Estrategia\" \n                    className=\"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\n                  />\n                </div>\n                <ErrorMessage name=\"title\" component=\"div\" className=\"text-red-500 text-xs mt-1\" />\n              </div>\n\n              {/* SALA */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Sala</label>\n                <div className=\"relative\">\n                  <MapPin className=\"absolute left-3 top-3 text-gray-400\" size={18} />\n                  <Field \n                    as=\"select\" \n                    name=\"roomId\" \n                    className=\"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none appearance-none\"\n                  >\n                    <option value=\"\" disabled>Selecciona una sala...</option>\n                    {rooms.map(room => (\n                      <option key={room.id} value={room.id}>\n                        {room.nombre} (Cap: {room.capacidad})\n                      </option>\n                    ))}\n                  </Field>\n                </div>\n                <ErrorMessage name=\"roomId\" component=\"div\" className=\"text-red-500 text-xs mt-1\" />\n              </div>\n\n              {/* FECHA Y HORAS (Grid) */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                {/* FECHA */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Fecha</label>\n                  <div className=\"relative\">\n                    <Calendar className=\"absolute left-3 top-3 text-gray-400\" size={18} />\n                    <Field \n                      type=\"date\" \n                      name=\"date\" \n                      className=\"w-full pl-10 pr-2 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                  <ErrorMessage name=\"date\" component=\"div\" className=\"text-red-500 text-xs mt-1\" />\n                </div>\n\n                {/* HORA INICIO */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Inicio</label>\n                  <div className=\"relative\">\n                    <Clock className=\"absolute left-3 top-3 text-gray-400\" size={18} />\n                    <Field \n                      type=\"time\" \n                      name=\"startTime\" \n                      className=\"w-full pl-10 pr-2 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                  <ErrorMessage name=\"startTime\" component=\"div\" className=\"text-red-500 text-xs mt-1\" />\n                </div>\n\n                {/* HORA FIN */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Fin</label>\n                  <div className=\"relative\">\n                    <Clock className=\"absolute left-3 top-3 text-gray-400\" size={18} />\n                    <Field \n                      type=\"time\" \n                      name=\"endTime\" \n                      className=\"w-full pl-10 pr-2 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                  <ErrorMessage name=\"endTime\" component=\"div\" className=\"text-red-500 text-xs mt-1\" />\n                </div>\n              </div>\n\n              {/* DESCRIPCIÓN (Opcional) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Descripción</label>\n                <Field \n                  as=\"textarea\" \n                  name=\"description\" \n                  rows=\"3\"\n                  placeholder=\"Detalles adicionales...\"\n                  className=\"w-full px-4 py-2.5 rounded-xl border border-gray-200 dark:border-[#2E3642] bg-white dark:bg-[#0D1117] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\n                />\n              </div>\n\n              {/* BOTONES DE ACCIÓN */}\n              <div className=\"pt-4 flex items-center justify-end gap-3 border-t border-gray-100 dark:border-[#232A36]\">\n                <button\n                  type=\"button\"\n                  onClick={onCancel}\n                  className=\"px-5 py-2.5 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-[#1C2128] font-medium transition-colors\"\n                  disabled={loading || isSubmitting}\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={loading || isSubmitting}\n                  className=\"px-6 py-2.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium shadow-lg shadow-blue-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed\"\n                >\n                  {loading ? (\n                    <>\n                      <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                      Guardando...\n                    </>\n                  ) : (\n                    <>\n                      <Save size={18} />\n                      {reservationToEdit ? 'Actualizar Reserva' : 'Crear Reserva'}\n                    </>\n                  )}\n                </button>\n              </div>\n\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default ReservationForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}