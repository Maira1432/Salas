{"ast":null,"code":"var _jsxFileName = \"/Users/mairaquintero/Desktop/project-salas/src/pages/MyReservations.js\",\n  _s = $RefreshSig$();\n// imports (ajusta rutas si usas alias @)\nimport { useState } from 'react';\nimport { apiDeleteReservation } from '../api/reservations'; // ya creado\n// Si usas MSAL: importa tu token; si no, quita accessToken del handler.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MyReservations({\n  accessToken,\n  reservations = [],\n  onAfterDelete\n}) {\n  _s();\n  // ...tu estado/lista de reservas existente...\n  const [busyId, setBusyId] = useState(null);\n  const [msg, setMsg] = useState(''); // opcional: mensaje de éxito/error\n\n  async function handleDelete(res) {\n    const id = res.id || res._id;\n    if (!id) return;\n\n    // Confirmación (si tienes un modal propio, úsalo aquí)\n    if (!window.confirm(`¿Eliminar la reserva “${res.title || 'sin título'}”?`)) return;\n    setBusyId(id);\n    setMsg(''); // limpia mensajes\n\n    // 1) Optimista: quita de la UI SIN cambiar clases\n    // Si mantienes reservas en estado local:\n    // setReservations(prev => prev.filter(r => (r.id || r._id) !== id));\n\n    try {\n      await apiDeleteReservation(id, accessToken);\n      // Si usaste optimista arriba, ya no haces nada.\n      // Si NO usas optimista, aquí sí quitas:\n      // setReservations(prev => prev.filter(r => (r.id || r._id) !== id));\n      setMsg('Reserva eliminada correctamente.');\n    } catch (err) {\n      setMsg((err === null || err === void 0 ? void 0 : err.message) || 'No se pudo eliminar la reserva.');\n      // (Opcional) revertir si hiciste optimista arriba\n      // setReservations(prev => [...prev, res]);\n    } finally {\n      setBusyId(null);\n      // Autocierra mensaje\n      setTimeout(() => setMsg(''), 2500);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sr-only\",\n      \"aria-live\": \"polite\",\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"...tus clases de lista...\",\n      children: reservations.map(res => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"...tus clases de item...\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(res),\n          disabled: busyId === (res.id || res._id),\n          className: \"...LAS MISMAS CLASES QUE YA TEN\\xCDAS...\",\n          children: busyId === (res.id || res._id) ? 'Eliminando…' : 'Eliminar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, res.id || res._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-4 right-4 z-50 rounded-xl border px-4 py-2 text-sm bg-white/95 dark:bg-gray-900/95 border-gray-200 dark:border-gray-800 shadow-2xl\",\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(MyReservations, \"4rFNeqHHGvc6mAz3d2iFf/wsfjM=\");\n_c = MyReservations;\nvar _c;\n$RefreshReg$(_c, \"MyReservations\");","map":{"version":3,"names":["useState","apiDeleteReservation","jsxDEV","_jsxDEV","Fragment","_Fragment","MyReservations","accessToken","reservations","onAfterDelete","_s","busyId","setBusyId","msg","setMsg","handleDelete","res","id","_id","window","confirm","title","err","message","setTimeout","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/pages/MyReservations.js"],"sourcesContent":["// imports (ajusta rutas si usas alias @)\nimport { useState } from 'react';\nimport { apiDeleteReservation } from '../api/reservations'; // ya creado\n// Si usas MSAL: importa tu token; si no, quita accessToken del handler.\n\nexport default function MyReservations({ accessToken, reservations = [], onAfterDelete }) {\n  // ...tu estado/lista de reservas existente...\n  const [busyId, setBusyId] = useState(null);\n  const [msg, setMsg] = useState('');     // opcional: mensaje de éxito/error\n\n  async function handleDelete(res) {\n    const id = res.id || res._id;\n    if (!id) return;\n\n    // Confirmación (si tienes un modal propio, úsalo aquí)\n    if (!window.confirm(`¿Eliminar la reserva “${res.title || 'sin título'}”?`)) return;\n\n    setBusyId(id);\n    setMsg(''); // limpia mensajes\n\n    // 1) Optimista: quita de la UI SIN cambiar clases\n    // Si mantienes reservas en estado local:\n    // setReservations(prev => prev.filter(r => (r.id || r._id) !== id));\n\n    try {\n      await apiDeleteReservation(id, accessToken);\n      // Si usaste optimista arriba, ya no haces nada.\n      // Si NO usas optimista, aquí sí quitas:\n      // setReservations(prev => prev.filter(r => (r.id || r._id) !== id));\n      setMsg('Reserva eliminada correctamente.');\n    } catch (err) {\n      setMsg(err?.message || 'No se pudo eliminar la reserva.');\n      // (Opcional) revertir si hiciste optimista arriba\n      // setReservations(prev => [...prev, res]);\n    } finally {\n      setBusyId(null);\n      // Autocierra mensaje\n      setTimeout(() => setMsg(''), 2500);\n    }\n  }\n\n  return (\n    <>\n      {/* Región accesible invisible: no altera diseño */}\n      <div className=\"sr-only\" aria-live=\"polite\">{msg}</div>\n\n      {/* RENDERIZA TU LISTA EXACTAMENTE IGUAL QUE ANTES */}\n      <ul className=\"...tus clases de lista...\">\n        {reservations.map(res => (\n          <li key={res.id || res._id} className=\"...tus clases de item...\">\n            {/* ...tus columnas/contenido tal cual... */}\n\n            {/* Botón eliminar: SOLO agrega onClick/disabled. NO cambies className */}\n            <button\n              onClick={() => handleDelete(res)}\n              disabled={busyId === (res.id || res._id)}\n              className=\"...LAS MISMAS CLASES QUE YA TENÍAS...\"\n            >\n              {busyId === (res.id || res._id) ? 'Eliminando…' : 'Eliminar'}\n            </button>\n          </li>\n        ))}\n      </ul>\n\n      {/* Toast minimal fijo (opcional). No empuja layout y respeta dark. */}\n      {msg && (\n        <div className=\"fixed bottom-4 right-4 z-50 rounded-xl border px-4 py-2 text-sm\n                        bg-white/95 dark:bg-gray-900/95 border-gray-200 dark:border-gray-800 shadow-2xl\">\n          {msg}\n        </div>\n      )}\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}