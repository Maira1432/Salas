{"ast":null,"code":"var _jsxFileName = \"/Users/mairaquintero/Desktop/project-salas/src/components/AdminDashboard.jsx\",\n  _s = $RefreshSig$();\n// src/components/AdminDashboard.jsx\nimport React, { useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { BarChart3, TrendingUp, Users, Calendar, Award } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminDashboard({\n  reservations = []\n}) {\n  _s();\n  // --- CÁLCULOS ESTADÍSTICOS ---\n  const stats = useMemo(() => {\n    const total = reservations.length;\n    if (total === 0) return null;\n\n    // 1. Sala más popular\n    const roomCounts = {};\n    reservations.forEach(r => {\n      var _r$room;\n      const name = ((_r$room = r.room) === null || _r$room === void 0 ? void 0 : _r$room.nombre) || 'Desconocida';\n      roomCounts[name] = (roomCounts[name] || 0) + 1;\n    });\n    const topRoomName = Object.keys(roomCounts).reduce((a, b) => roomCounts[a] > roomCounts[b] ? a : b);\n\n    // 2. Usuario más activo\n    const userCounts = {};\n    reservations.forEach(r => {\n      // Asumiendo que r.user es el nombre o email\n      const user = r.user || 'Anónimo';\n      userCounts[user] = (userCounts[user] || 0) + 1;\n    });\n    const topUserName = Object.keys(userCounts).reduce((a, b) => userCounts[a] > userCounts[b] ? a : b);\n\n    // 3. Horas totales reservadas\n    const totalMinutes = reservations.reduce((acc, r) => {\n      const start = new Date(r.startTime);\n      const end = new Date(r.endTime);\n      return acc + (end - start) / 60000;\n    }, 0);\n    const totalHours = Math.round(totalMinutes / 60);\n    return {\n      total,\n      topRoom: {\n        name: topRoomName,\n        count: roomCounts[topRoomName]\n      },\n      topUser: {\n        name: topUserName,\n        count: userCounts[topUserName]\n      },\n      totalHours\n    };\n  }, [reservations]);\n  if (!stats) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500 bg-white dark:bg-[#151A20] rounded-2xl border border-dashed border-gray-300 dark:border-gray-700\",\n      children: \"No hay suficientes datos para generar estad\\xEDsticas.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --- COMPONENTE DE TARJETA ---\n  const StatCard = ({\n    title,\n    value,\n    subtext,\n    icon: Icon,\n    colorClass\n  }) => /*#__PURE__*/_jsxDEV(motion.div, {\n    whileHover: {\n      y: -4\n    },\n    className: \"p-6 bg-white dark:bg-[#151A20] border border-gray-100 dark:border-[#232A36] rounded-2xl shadow-sm relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `absolute top-0 right-0 p-4 opacity-10 ${colorClass}`,\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        className: \"w-16 h-16\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-3 rounded-xl ${colorClass} bg-opacity-10 text-opacity-100`,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          className: `w-6 h-6 ${colorClass.replace('bg-', 'text-')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-3xl font-bold text-gray-900 dark:text-white mb-1\",\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 dark:text-gray-400\",\n        children: subtext\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Reservas Totales\",\n        value: stats.total,\n        subtext: \"En el periodo actual\",\n        icon: Calendar,\n        colorClass: \"bg-blue-500 text-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Sala M\\xE1s Usada\",\n        value: stats.topRoom.count,\n        subtext: stats.topRoom.name,\n        icon: BarChart3,\n        colorClass: \"bg-purple-500 text-purple-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Usuario Top\",\n        value: stats.topUser.count,\n        subtext: stats.topUser.name,\n        icon: Award,\n        colorClass: \"bg-amber-500 text-amber-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Horas Ocupadas\",\n        value: `${stats.totalHours}h`,\n        subtext: \"Tiempo total de uso\",\n        icon: TrendingUp,\n        colorClass: \"bg-emerald-500 text-emerald-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminDashboard, \"3FvJDKtC3yF1gbNv5/WixcrN7Rs=\");\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useMemo","motion","BarChart3","TrendingUp","Users","Calendar","Award","jsxDEV","_jsxDEV","AdminDashboard","reservations","_s","stats","total","length","roomCounts","forEach","r","_r$room","name","room","nombre","topRoomName","Object","keys","reduce","a","b","userCounts","user","topUserName","totalMinutes","acc","start","Date","startTime","end","endTime","totalHours","Math","round","topRoom","count","topUser","className","children","fileName","_jsxFileName","lineNumber","columnNumber","StatCard","title","value","subtext","icon","Icon","colorClass","div","whileHover","y","replace","_c","$RefreshReg$"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/components/AdminDashboard.jsx"],"sourcesContent":["// src/components/AdminDashboard.jsx\nimport React, { useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { BarChart3, TrendingUp, Users, Calendar, Award } from 'lucide-react';\n\nexport default function AdminDashboard({ reservations = [] }) {\n  \n  // --- CÁLCULOS ESTADÍSTICOS ---\n  const stats = useMemo(() => {\n    const total = reservations.length;\n    if (total === 0) return null;\n\n    // 1. Sala más popular\n    const roomCounts = {};\n    reservations.forEach(r => {\n        const name = r.room?.nombre || 'Desconocida';\n        roomCounts[name] = (roomCounts[name] || 0) + 1;\n    });\n    const topRoomName = Object.keys(roomCounts).reduce((a, b) => roomCounts[a] > roomCounts[b] ? a : b);\n    \n    // 2. Usuario más activo\n    const userCounts = {};\n    reservations.forEach(r => {\n        // Asumiendo que r.user es el nombre o email\n        const user = r.user || 'Anónimo'; \n        userCounts[user] = (userCounts[user] || 0) + 1;\n    });\n    const topUserName = Object.keys(userCounts).reduce((a, b) => userCounts[a] > userCounts[b] ? a : b);\n\n    // 3. Horas totales reservadas\n    const totalMinutes = reservations.reduce((acc, r) => {\n        const start = new Date(r.startTime);\n        const end = new Date(r.endTime);\n        return acc + (end - start) / 60000;\n    }, 0);\n    const totalHours = Math.round(totalMinutes / 60);\n\n    return {\n        total,\n        topRoom: { name: topRoomName, count: roomCounts[topRoomName] },\n        topUser: { name: topUserName, count: userCounts[topUserName] },\n        totalHours\n    };\n  }, [reservations]);\n\n  if (!stats) {\n    return (\n      <div className=\"p-8 text-center text-gray-500 bg-white dark:bg-[#151A20] rounded-2xl border border-dashed border-gray-300 dark:border-gray-700\">\n        No hay suficientes datos para generar estadísticas.\n      </div>\n    );\n  }\n\n  // --- COMPONENTE DE TARJETA ---\n  const StatCard = ({ title, value, subtext, icon: Icon, colorClass }) => (\n    <motion.div \n      whileHover={{ y: -4 }}\n      className=\"p-6 bg-white dark:bg-[#151A20] border border-gray-100 dark:border-[#232A36] rounded-2xl shadow-sm relative overflow-hidden\"\n    >\n      <div className={`absolute top-0 right-0 p-4 opacity-10 ${colorClass}`}>\n        <Icon className=\"w-16 h-16\" />\n      </div>\n      <div className=\"flex items-center gap-4 mb-4\">\n        <div className={`p-3 rounded-xl ${colorClass} bg-opacity-10 text-opacity-100`}>\n          <Icon className={`w-6 h-6 ${colorClass.replace('bg-', 'text-')}`} />\n        </div>\n        <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">{title}</h3>\n      </div>\n      <div>\n        <div className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">{value}</div>\n        <div className=\"text-sm text-gray-500 dark:text-gray-400\">{subtext}</div>\n      </div>\n    </motion.div>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <StatCard \n            title=\"Reservas Totales\" \n            value={stats.total} \n            subtext=\"En el periodo actual\"\n            icon={Calendar}\n            colorClass=\"bg-blue-500 text-blue-600\"\n        />\n        <StatCard \n            title=\"Sala Más Usada\" \n            value={stats.topRoom.count} \n            subtext={stats.topRoom.name}\n            icon={BarChart3}\n            colorClass=\"bg-purple-500 text-purple-600\"\n        />\n        <StatCard \n            title=\"Usuario Top\" \n            value={stats.topUser.count} \n            subtext={stats.topUser.name}\n            icon={Award}\n            colorClass=\"bg-amber-500 text-amber-600\"\n        />\n        <StatCard \n            title=\"Horas Ocupadas\" \n            value={`${stats.totalHours}h`} \n            subtext=\"Tiempo total de uso\"\n            icon={TrendingUp}\n            colorClass=\"bg-emerald-500 text-emerald-600\"\n        />\n      </div>\n\n      {/* Aquí podrías agregar gráficas más complejas en el futuro */}\n    </div>\n  );\n}"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,SAAS,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7E,eAAe,SAASC,cAAcA,CAAC;EAAEC,YAAY,GAAG;AAAG,CAAC,EAAE;EAAAC,EAAA;EAE5D;EACA,MAAMC,KAAK,GAAGZ,OAAO,CAAC,MAAM;IAC1B,MAAMa,KAAK,GAAGH,YAAY,CAACI,MAAM;IACjC,IAAID,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI;;IAE5B;IACA,MAAME,UAAU,GAAG,CAAC,CAAC;IACrBL,YAAY,CAACM,OAAO,CAACC,CAAC,IAAI;MAAA,IAAAC,OAAA;MACtB,MAAMC,IAAI,GAAG,EAAAD,OAAA,GAAAD,CAAC,CAACG,IAAI,cAAAF,OAAA,uBAANA,OAAA,CAAQG,MAAM,KAAI,aAAa;MAC5CN,UAAU,CAACI,IAAI,CAAC,GAAG,CAACJ,UAAU,CAACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAClD,CAAC,CAAC;IACF,MAAMG,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACT,UAAU,CAAC,CAACU,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKZ,UAAU,CAACW,CAAC,CAAC,GAAGX,UAAU,CAACY,CAAC,CAAC,GAAGD,CAAC,GAAGC,CAAC,CAAC;;IAEnG;IACA,MAAMC,UAAU,GAAG,CAAC,CAAC;IACrBlB,YAAY,CAACM,OAAO,CAACC,CAAC,IAAI;MACtB;MACA,MAAMY,IAAI,GAAGZ,CAAC,CAACY,IAAI,IAAI,SAAS;MAChCD,UAAU,CAACC,IAAI,CAAC,GAAG,CAACD,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAClD,CAAC,CAAC;IACF,MAAMC,WAAW,GAAGP,MAAM,CAACC,IAAI,CAACI,UAAU,CAAC,CAACH,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKC,UAAU,CAACF,CAAC,CAAC,GAAGE,UAAU,CAACD,CAAC,CAAC,GAAGD,CAAC,GAAGC,CAAC,CAAC;;IAEnG;IACA,MAAMI,YAAY,GAAGrB,YAAY,CAACe,MAAM,CAAC,CAACO,GAAG,EAAEf,CAAC,KAAK;MACjD,MAAMgB,KAAK,GAAG,IAAIC,IAAI,CAACjB,CAAC,CAACkB,SAAS,CAAC;MACnC,MAAMC,GAAG,GAAG,IAAIF,IAAI,CAACjB,CAAC,CAACoB,OAAO,CAAC;MAC/B,OAAOL,GAAG,GAAG,CAACI,GAAG,GAAGH,KAAK,IAAI,KAAK;IACtC,CAAC,EAAE,CAAC,CAAC;IACL,MAAMK,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACT,YAAY,GAAG,EAAE,CAAC;IAEhD,OAAO;MACHlB,KAAK;MACL4B,OAAO,EAAE;QAAEtB,IAAI,EAAEG,WAAW;QAAEoB,KAAK,EAAE3B,UAAU,CAACO,WAAW;MAAE,CAAC;MAC9DqB,OAAO,EAAE;QAAExB,IAAI,EAAEW,WAAW;QAAEY,KAAK,EAAEd,UAAU,CAACE,WAAW;MAAE,CAAC;MAC9DQ;IACJ,CAAC;EACH,CAAC,EAAE,CAAC5B,YAAY,CAAC,CAAC;EAElB,IAAI,CAACE,KAAK,EAAE;IACV,oBACEJ,OAAA;MAAKoC,SAAS,EAAC,gIAAgI;MAAAC,QAAA,EAAC;IAEhJ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAEV;;EAEA;EACA,MAAMC,QAAQ,GAAGA,CAAC;IAAEC,KAAK;IAAEC,KAAK;IAAEC,OAAO;IAAEC,IAAI,EAAEC,IAAI;IAAEC;EAAW,CAAC,kBACjEhD,OAAA,CAACP,MAAM,CAACwD,GAAG;IACTC,UAAU,EAAE;MAAEC,CAAC,EAAE,CAAC;IAAE,CAAE;IACtBf,SAAS,EAAC,4HAA4H;IAAAC,QAAA,gBAEtIrC,OAAA;MAAKoC,SAAS,EAAE,yCAAyCY,UAAU,EAAG;MAAAX,QAAA,eACpErC,OAAA,CAAC+C,IAAI;QAACX,SAAS,EAAC;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC,eACNzC,OAAA;MAAKoC,SAAS,EAAC,8BAA8B;MAAAC,QAAA,gBAC3CrC,OAAA;QAAKoC,SAAS,EAAE,kBAAkBY,UAAU,iCAAkC;QAAAX,QAAA,eAC5ErC,OAAA,CAAC+C,IAAI;UAACX,SAAS,EAAE,WAAWY,UAAU,CAACI,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC;QAAG;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC,eACNzC,OAAA;QAAIoC,SAAS,EAAC,+EAA+E;QAAAC,QAAA,EAAEM;MAAK;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvG,CAAC,eACNzC,OAAA;MAAAqC,QAAA,gBACErC,OAAA;QAAKoC,SAAS,EAAC,uDAAuD;QAAAC,QAAA,EAAEO;MAAK;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACpFzC,OAAA;QAAKoC,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAEQ;MAAO;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CACb;EAED,oBACEzC,OAAA;IAAKoC,SAAS,EAAC,WAAW;IAAAC,QAAA,eACxBrC,OAAA;MAAKoC,SAAS,EAAC,sDAAsD;MAAAC,QAAA,gBACnErC,OAAA,CAAC0C,QAAQ;QACLC,KAAK,EAAC,kBAAkB;QACxBC,KAAK,EAAExC,KAAK,CAACC,KAAM;QACnBwC,OAAO,EAAC,sBAAsB;QAC9BC,IAAI,EAAEjD,QAAS;QACfmD,UAAU,EAAC;MAA2B;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC,eACFzC,OAAA,CAAC0C,QAAQ;QACLC,KAAK,EAAC,mBAAgB;QACtBC,KAAK,EAAExC,KAAK,CAAC6B,OAAO,CAACC,KAAM;QAC3BW,OAAO,EAAEzC,KAAK,CAAC6B,OAAO,CAACtB,IAAK;QAC5BmC,IAAI,EAAEpD,SAAU;QAChBsD,UAAU,EAAC;MAA+B;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,eACFzC,OAAA,CAAC0C,QAAQ;QACLC,KAAK,EAAC,aAAa;QACnBC,KAAK,EAAExC,KAAK,CAAC+B,OAAO,CAACD,KAAM;QAC3BW,OAAO,EAAEzC,KAAK,CAAC+B,OAAO,CAACxB,IAAK;QAC5BmC,IAAI,EAAEhD,KAAM;QACZkD,UAAU,EAAC;MAA6B;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eACFzC,OAAA,CAAC0C,QAAQ;QACLC,KAAK,EAAC,gBAAgB;QACtBC,KAAK,EAAE,GAAGxC,KAAK,CAAC0B,UAAU,GAAI;QAC9Be,OAAO,EAAC,qBAAqB;QAC7BC,IAAI,EAAEnD,UAAW;QACjBqD,UAAU,EAAC;MAAiC;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGH,CAAC;AAEV;AAACtC,EAAA,CA1GuBF,cAAc;AAAAoD,EAAA,GAAdpD,cAAc;AAAA,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}