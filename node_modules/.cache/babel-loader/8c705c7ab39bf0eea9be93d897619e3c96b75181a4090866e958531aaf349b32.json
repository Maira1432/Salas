{"ast":null,"code":"// src/utils/theme.js\nconst STORAGE_KEY = 'theme';\n\n// Detecta el tema del sistema\nconst getSystemTheme = () => window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\nexport const getSavedTheme = () => {\n  var _localStorage$getItem;\n  return (_localStorage$getItem = localStorage.getItem(STORAGE_KEY)) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : 'system';\n};\n\n// Aplica el tema al <html>\nexport const applyTheme = pref => {\n  const html = document.documentElement;\n  const effective = pref === 'system' ? getSystemTheme() : pref;\n  if (effective === 'dark') html.classList.add('dark');else html.classList.remove('dark');\n};\n\n// Guarda y aplica el tema\nexport const setTheme = pref => {\n  console.log('[theme] setTheme', pref);\n  localStorage.setItem(STORAGE_KEY, pref);\n  applyTheme(pref);\n};\n\n// Inicializa al cargar la app\nexport const initTheme = () => {\n  const saved = getSavedTheme();\n  applyTheme(saved);\n\n  // Escucha cambios del sistema si está en modo \"system\"\n  if (saved === 'system' && window.matchMedia) {\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    const handler = () => applyTheme('system');\n    try {\n      mql.addEventListener('change', handler);\n    } catch {\n      mql.addListener(handler); // Safari viejo\n    }\n  }\n};","map":{"version":3,"names":["STORAGE_KEY","getSystemTheme","window","matchMedia","matches","getSavedTheme","_localStorage$getItem","localStorage","getItem","applyTheme","pref","html","document","documentElement","effective","classList","add","remove","setTheme","console","log","setItem","initTheme","saved","mql","handler","addEventListener","addListener"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/utils/theme.js"],"sourcesContent":["// src/utils/theme.js\nconst STORAGE_KEY = 'theme';\n\n// Detecta el tema del sistema\nconst getSystemTheme = () =>\n  window.matchMedia &&\n  window.matchMedia('(prefers-color-scheme: dark)').matches\n    ? 'dark'\n    : 'light';\n\nexport const getSavedTheme = () =>\n  localStorage.getItem(STORAGE_KEY) ?? 'system';\n\n// Aplica el tema al <html>\nexport const applyTheme = (pref) => {\n  const html = document.documentElement;\n  const effective = pref === 'system' ? getSystemTheme() : pref;\n\n  if (effective === 'dark') html.classList.add('dark');\n  else html.classList.remove('dark');\n};\n\n// Guarda y aplica el tema\nexport const setTheme = (pref) => {\n  console.log('[theme] setTheme', pref);\n  localStorage.setItem(STORAGE_KEY, pref);\n  applyTheme(pref);\n};\n\n// Inicializa al cargar la app\nexport const initTheme = () => {\n  const saved = getSavedTheme();\n  applyTheme(saved);\n\n  // Escucha cambios del sistema si está en modo \"system\"\n  if (saved === 'system' && window.matchMedia) {\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    const handler = () => applyTheme('system');\n    try {\n      mql.addEventListener('change', handler);\n    } catch {\n      mql.addListener(handler); // Safari viejo\n    }\n  }\n};\n"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG,OAAO;;AAE3B;AACA,MAAMC,cAAc,GAAGA,CAAA,KACrBC,MAAM,CAACC,UAAU,IACjBD,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,GACrD,MAAM,GACN,OAAO;AAEb,OAAO,MAAMC,aAAa,GAAGA,CAAA;EAAA,IAAAC,qBAAA;EAAA,QAAAA,qBAAA,GAC3BC,YAAY,CAACC,OAAO,CAACR,WAAW,CAAC,cAAAM,qBAAA,cAAAA,qBAAA,GAAI,QAAQ;AAAA;;AAE/C;AACA,OAAO,MAAMG,UAAU,GAAIC,IAAI,IAAK;EAClC,MAAMC,IAAI,GAAGC,QAAQ,CAACC,eAAe;EACrC,MAAMC,SAAS,GAAGJ,IAAI,KAAK,QAAQ,GAAGT,cAAc,CAAC,CAAC,GAAGS,IAAI;EAE7D,IAAII,SAAS,KAAK,MAAM,EAAEH,IAAI,CAACI,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,KAChDL,IAAI,CAACI,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;AACpC,CAAC;;AAED;AACA,OAAO,MAAMC,QAAQ,GAAIR,IAAI,IAAK;EAChCS,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEV,IAAI,CAAC;EACrCH,YAAY,CAACc,OAAO,CAACrB,WAAW,EAAEU,IAAI,CAAC;EACvCD,UAAU,CAACC,IAAI,CAAC;AAClB,CAAC;;AAED;AACA,OAAO,MAAMY,SAAS,GAAGA,CAAA,KAAM;EAC7B,MAAMC,KAAK,GAAGlB,aAAa,CAAC,CAAC;EAC7BI,UAAU,CAACc,KAAK,CAAC;;EAEjB;EACA,IAAIA,KAAK,KAAK,QAAQ,IAAIrB,MAAM,CAACC,UAAU,EAAE;IAC3C,MAAMqB,GAAG,GAAGtB,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC;IAC7D,MAAMsB,OAAO,GAAGA,CAAA,KAAMhB,UAAU,CAAC,QAAQ,CAAC;IAC1C,IAAI;MACFe,GAAG,CAACE,gBAAgB,CAAC,QAAQ,EAAED,OAAO,CAAC;IACzC,CAAC,CAAC,MAAM;MACND,GAAG,CAACG,WAAW,CAACF,OAAO,CAAC,CAAC,CAAC;IAC5B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}