{"ast":null,"code":"var _jsxFileName = \"/Users/mairaquintero/Desktop/project-salas/src/context/ReservationsContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/ReservationsContext.js\n\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport { msalInstance, loginRequest } from '../msalConfig';\n\n// Contexto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReservationsCtx = /*#__PURE__*/createContext(null);\n\n// FunciÃ³n auxiliar para reconstruir fechas (strings -> Date objects)\nconst reviveDates = reservations => {\n  if (!reservations || !Array.isArray(reservations)) return [];\n  return reservations.map(res => ({\n    ...res,\n    // Convertir las cadenas de tiempo ISO a objetos Date\n    startTime: res.startTime ? new Date(res.startTime) : undefined,\n    endTime: res.endTime ? new Date(res.endTime) : undefined\n    // Nota: AsegÃºrate de que r.room.id exista si lo usas en el contexto.\n  }));\n};\n\n// FunciÃ³n auxiliar para extraer nombre de sala\nconst extractRoomName = evt => {\n  var _evt$attendees, _roomAttendee$emailAd, _evt$location;\n  // 1. Prioridad: Recurso en asistentes\n  const roomAttendee = (_evt$attendees = evt.attendees) === null || _evt$attendees === void 0 ? void 0 : _evt$attendees.find(a => a.type === 'resource');\n  if (roomAttendee) return (_roomAttendee$emailAd = roomAttendee.emailAddress) === null || _roomAttendee$emailAd === void 0 ? void 0 : _roomAttendee$emailAd.name;\n\n  // 2. Prioridad: UbicaciÃ³n\n  if ((_evt$location = evt.location) !== null && _evt$location !== void 0 && _evt$location.displayName && evt.location.displayName !== \"Sin sala\") {\n    return evt.location.displayName;\n  }\n  return 'Sala no especificada';\n};\n\n// 1. DEFINICIÃ“N DE SALAS INICIALES (Por defecto)\nconst INITIAL_ROOMS = [{\n  id: '1',\n  nombre: 'CÃ­rculo de Sabios I',\n  email: 'circulo.sabios1@fycotelecom.com',\n  capacidad: 5,\n  recursos: ['TV', 'Aire', 'HDMI']\n}, {\n  id: '2',\n  nombre: 'CÃ­rculo de Sabios II',\n  email: 'circulo.sabios2@fycotelecom.com',\n  capacidad: 5,\n  recursos: ['TV', 'Aire', 'HDMI']\n}, {\n  id: '3',\n  nombre: 'CÃ­rculo de Sabios III',\n  email: 'circulo.sabios3@fycotelecom.com',\n  capacidad: 5,\n  recursos: ['TV', 'Aire', 'HDMI']\n}, {\n  id: '4',\n  nombre: 'Consejo de la Tribu',\n  email: 'consejo.tribu@fycotelecom.com',\n  capacidad: 12,\n  recursos: ['Pantalla', 'Aire']\n}, {\n  id: '5',\n  nombre: 'Plaza de Conexiones',\n  email: 'plaza.conexiones@fycotelecom.com',\n  capacidad: 6,\n  recursos: ['Pantalla', 'Aire']\n}];\nexport const ReservationsProvider = ({\n  children\n}) => {\n  _s();\n  const [reservations, setReservations] = useState([]);\n\n  // LÃ³gica de carga inicial de Outlook\n  const fetchReservations = async () => {\n    // ... (Tu lÃ³gica para obtener reservas de Outlook) ...\n    const outlookEvents = [/* ... datos recibidos ... */];\n\n    // APLICA LA CONVERSIÃ“N AQUÃ\n    const revivedEvents = reviveDates(outlookEvents);\n    setReservations(revivedEvents);\n  };\n\n  // =========================================================================\n  // 2. CARGA INICIAL DE DATOS (GET) - LÃ³gica de fetchReservations\n  // =========================================================================\n  useEffect(() => {\n    async function fetchReservations() {\n      const account = msalInstance.getActiveAccount();\n      if (!account) return;\n      try {\n        // ... (Tu lÃ³gica para obtener token y hacer fetch a /me/events) ...\n        const tokenResponse = await msalInstance.acquireTokenSilent({\n          ...loginRequest,\n          account: account\n        });\n        const token = tokenResponse.accessToken;\n        const response = await fetch('https://graph.microsoft.com/v1.0/me/events?$select=subject,start,end,location,id,attendees&$top=50', {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Prefer': 'outlook.timezone=\"America/Bogota\"'\n          }\n        });\n        if (!response.ok) throw new Error(`Error Graph: ${response.status}`);\n        const graphData = await response.json();\n        const mapped = (graphData.value || []).map(evt => {\n          var _evt$location2;\n          return {\n            id: evt.id,\n            title: evt.subject,\n            // ðŸš© âœ… IMPORTANTE: Dejamos las fechas como strings ISO para que reviveDates las convierta\n            startTime: evt.start.dateTime,\n            endTime: evt.end.dateTime,\n            room: {\n              nombre: extractRoomName(evt)\n            },\n            attendees: evt.attendees || [],\n            location: ((_evt$location2 = evt.location) === null || _evt$location2 === void 0 ? void 0 : _evt$location2.displayName) || ''\n          };\n        });\n\n        // âœ… USAMOS REVIVEDATES AL CARGAR DATOS\n        setReservations(reviveDates(mapped));\n      } catch (error) {\n        console.error(\"Error cargando reservas:\", error);\n      }\n    }\n    fetchReservations();\n  }, []);\n\n  // =========================================================================\n  // 3. CREAR O MODIFICAR (POST / PATCH) - FunciÃ³n addOrUpdate\n  // =========================================================================\n  const addOrUpdate = async reservationPayload => {\n    const isModification = !!reservationPayload.id;\n    const reservationId = reservationPayload.id;\n    const account = msalInstance.getActiveAccount();\n    if (!account) throw new Error(\"Sin sesiÃ³n activa\");\n    let tokenResponse;\n    try {\n      tokenResponse = await msalInstance.acquireTokenSilent({\n        ...loginRequest,\n        account\n      });\n    } catch {\n      msalInstance.loginRedirect(loginRequest);\n      return;\n    }\n    const token = tokenResponse.accessToken;\n    const url = isModification ? `https://graph.microsoft.com/v1.0/me/events/${reservationId}` : 'https://graph.microsoft.com/v1.0/me/events';\n    const method = isModification ? 'PATCH' : 'POST';\n    const event = {\n      subject: reservationPayload.title,\n      start: {\n        dateTime: reservationPayload.startTime,\n        timeZone: \"America/Bogota\"\n      },\n      end: {\n        dateTime: reservationPayload.endTime,\n        timeZone: \"America/Bogota\"\n      },\n      location: {\n        displayName: reservationPayload.room.nombre\n      },\n      attendees: [{\n        emailAddress: {\n          address: reservationPayload.roomEmail,\n          name: reservationPayload.room.nombre\n        },\n        type: \"resource\"\n      }]\n    };\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(event)\n    });\n    if (!response.ok) {\n      var _err$error;\n      const err = await response.json();\n      throw new Error(((_err$error = err.error) === null || _err$error === void 0 ? void 0 : _err$error.message) || \"Error en la API\");\n    }\n    const apiResponse = await response.json();\n\n    // âœ… RECONSTRUCCIÃ“N DE LA RESERVA (CON CADENAS ISO PARA REVIVEDATES)\n    const rawNewRes = {\n      ...reservationPayload,\n      id: apiResponse.id,\n      // Las fechas de la API ya vienen como ISO strings, las usamos sin convertirlas a 'Date'\n      startTime: apiResponse.start.dateTime,\n      endTime: apiResponse.end.dateTime\n    };\n\n    // âœ… APLICAMOS REVIVEDATES AQUÃ ANTES DE ACTUALIZAR EL ESTADO\n    const newRes = reviveDates([rawNewRes])[0];\n    setReservations(prev => {\n      if (isModification) {\n        return prev.map(r => r.id === reservationId ? newRes : r);\n      } else {\n        return [newRes, ...prev];\n      }\n    });\n  };\n\n  // =========================================================================\n  // 4. ELIMINAR (DELETE)\n  // =========================================================================\n  const removeById = async reservationId => {\n    const account = msalInstance.getActiveAccount();\n    if (!account) return;\n    const tokenResponse = await msalInstance.acquireTokenSilent({\n      ...loginRequest,\n      account\n    });\n    const token = tokenResponse.accessToken;\n    const response = await fetch(`https://graph.microsoft.com/v1.0/me/events/${reservationId}`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    if (response.ok) {\n      setReservations(prev => prev.filter(r => r.id !== reservationId));\n    }\n  };\n\n  // Exponemos todo en el valor del contexto\n  const value = useMemo(() => ({\n    reservations,\n    addOrUpdate,\n    removeById,\n    rooms,\n    // <--- Estado de salas\n    addOrUpdateRoom,\n    // <--- FunciÃ³n para crear/editar salas\n    deleteRoom,\n    // <--- FunciÃ³n para borrar salas\n    checkAvailability\n  }), [reservations, rooms]);\n  return /*#__PURE__*/_jsxDEV(ReservationsCtx.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 12\n  }, this);\n};\n_s(ReservationsProvider, \"VRFPzUmYa+DYKVvo/Yo+wUeSX4g=\");\n_c = ReservationsProvider;\nexport const useReservations = () => {\n  _s2();\n  return useContext(ReservationsCtx);\n};\n_s2(useReservations, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"ReservationsProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useMemo","useState","msalInstance","loginRequest","jsxDEV","_jsxDEV","ReservationsCtx","reviveDates","reservations","Array","isArray","map","res","startTime","Date","undefined","endTime","extractRoomName","evt","_evt$attendees","_roomAttendee$emailAd","_evt$location","roomAttendee","attendees","find","a","type","emailAddress","name","location","displayName","INITIAL_ROOMS","id","nombre","email","capacidad","recursos","ReservationsProvider","children","_s","setReservations","fetchReservations","outlookEvents","revivedEvents","account","getActiveAccount","tokenResponse","acquireTokenSilent","token","accessToken","response","fetch","headers","ok","Error","status","graphData","json","mapped","value","_evt$location2","title","subject","start","dateTime","end","room","error","console","addOrUpdate","reservationPayload","isModification","reservationId","loginRedirect","url","method","event","timeZone","address","roomEmail","body","JSON","stringify","_err$error","err","message","apiResponse","rawNewRes","newRes","prev","r","removeById","filter","rooms","addOrUpdateRoom","deleteRoom","checkAvailability","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useReservations","_s2","$RefreshReg$"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/context/ReservationsContext.js"],"sourcesContent":["// src/context/ReservationsContext.js\n\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport { msalInstance, loginRequest } from '../msalConfig';\n\n// Contexto\nconst ReservationsCtx = createContext(null);\n\n// FunciÃ³n auxiliar para reconstruir fechas (strings -> Date objects)\nconst reviveDates = (reservations) => {\n    if (!reservations || !Array.isArray(reservations)) return [];\n    \n    return reservations.map(res => ({\n        ...res,\n        // Convertir las cadenas de tiempo ISO a objetos Date\n        startTime: res.startTime ? new Date(res.startTime) : undefined,\n        endTime: res.endTime ? new Date(res.endTime) : undefined,\n        // Nota: AsegÃºrate de que r.room.id exista si lo usas en el contexto.\n    }));\n};\n\n// FunciÃ³n auxiliar para extraer nombre de sala\nconst extractRoomName = (evt) => {\n    // 1. Prioridad: Recurso en asistentes\n    const roomAttendee = evt.attendees?.find(a => a.type === 'resource');\n    if (roomAttendee) return roomAttendee.emailAddress?.name;\n    \n    // 2. Prioridad: UbicaciÃ³n\n    if (evt.location?.displayName && evt.location.displayName !== \"Sin sala\") {\n        return evt.location.displayName;\n    }\n    return 'Sala no especificada';\n};\n\n// 1. DEFINICIÃ“N DE SALAS INICIALES (Por defecto)\nconst INITIAL_ROOMS = [\n  { id: '1', nombre: 'CÃ­rculo de Sabios I', email: 'circulo.sabios1@fycotelecom.com', capacidad: 5, recursos: ['TV', 'Aire', 'HDMI'] },\n  { id: '2', nombre: 'CÃ­rculo de Sabios II', email: 'circulo.sabios2@fycotelecom.com', capacidad: 5, recursos: ['TV', 'Aire', 'HDMI'] },\n  { id: '3', nombre: 'CÃ­rculo de Sabios III', email: 'circulo.sabios3@fycotelecom.com', capacidad: 5, recursos: ['TV', 'Aire','HDMI'] },\n  { id: '4', nombre: 'Consejo de la Tribu', email: 'consejo.tribu@fycotelecom.com', capacidad: 12, recursos: ['Pantalla', 'Aire'] },\n  { id: '5', nombre: 'Plaza de Conexiones', email: 'plaza.conexiones@fycotelecom.com', capacidad: 6, recursos: ['Pantalla', 'Aire'] },\n];\n\nexport const ReservationsProvider = ({ children }) => {\n    const [reservations, setReservations] = useState([]);\n\n\n    // LÃ³gica de carga inicial de Outlook\nconst fetchReservations = async () => {\n    // ... (Tu lÃ³gica para obtener reservas de Outlook) ...\n    const outlookEvents = [/* ... datos recibidos ... */]; \n    \n    // APLICA LA CONVERSIÃ“N AQUÃ\n    const revivedEvents = reviveDates(outlookEvents); \n    setReservations(revivedEvents);\n};\n\n// =========================================================================\n// 2. CARGA INICIAL DE DATOS (GET) - LÃ³gica de fetchReservations\n// =========================================================================\n    useEffect(() => {\n        async function fetchReservations() {\n            const account = msalInstance.getActiveAccount();\n            if (!account) return; \n\n            try {\n                // ... (Tu lÃ³gica para obtener token y hacer fetch a /me/events) ...\n                const tokenResponse = await msalInstance.acquireTokenSilent({\n                    ...loginRequest,\n                    account: account\n                });\n                const token = tokenResponse.accessToken;\n\n                const response = await fetch('https://graph.microsoft.com/v1.0/me/events?$select=subject,start,end,location,id,attendees&$top=50', {\n                    headers: {\n                        'Authorization': `Bearer ${token}`,\n                        'Prefer': 'outlook.timezone=\"America/Bogota\"'\n                    }\n                });\n\n                if (!response.ok) throw new Error(`Error Graph: ${response.status}`);\n\n                const graphData = await response.json();\n\n                const mapped = (graphData.value || []).map(evt => ({\n                    id: evt.id,\n                    title: evt.subject,\n                    // ðŸš© âœ… IMPORTANTE: Dejamos las fechas como strings ISO para que reviveDates las convierta\n                    startTime: evt.start.dateTime, \n                    endTime: evt.end.dateTime,\n                    room: { nombre: extractRoomName(evt) },\n                    attendees: evt.attendees || [],\n                    location: evt.location?.displayName || ''\n                }));\n\n                // âœ… USAMOS REVIVEDATES AL CARGAR DATOS\n                setReservations(reviveDates(mapped));\n\n            } catch (error) {\n                console.error(\"Error cargando reservas:\", error);\n            }\n        }\n\n        fetchReservations();\n    }, []); \n\n// =========================================================================\n// 3. CREAR O MODIFICAR (POST / PATCH) - FunciÃ³n addOrUpdate\n// =========================================================================\n    const addOrUpdate = async (reservationPayload) => {\n        const isModification = !!reservationPayload.id;\n        const reservationId = reservationPayload.id;\n\n        const account = msalInstance.getActiveAccount();\n        if (!account) throw new Error(\"Sin sesiÃ³n activa\");\n\n        let tokenResponse; \n        try {\n            tokenResponse = await msalInstance.acquireTokenSilent({ ...loginRequest, account });\n        } catch {\n            msalInstance.loginRedirect(loginRequest);\n            return;\n        }\n        const token = tokenResponse.accessToken;\n\n        const url = isModification \n            ? `https://graph.microsoft.com/v1.0/me/events/${reservationId}` \n            : 'https://graph.microsoft.com/v1.0/me/events';\n        const method = isModification ? 'PATCH' : 'POST';\n\n        const event = {\n            subject: reservationPayload.title,\n            start: { dateTime: reservationPayload.startTime, timeZone: \"America/Bogota\" },\n            end: { dateTime: reservationPayload.endTime, timeZone: \"America/Bogota\" },\n            location: { displayName: reservationPayload.room.nombre }, \n            attendees: [{\n                emailAddress: { address: reservationPayload.roomEmail, name: reservationPayload.room.nombre },\n                type: \"resource\"\n            }]\n        };\n\n        const response = await fetch(url, {\n            method: method,\n            headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n            body: JSON.stringify(event)\n        });\n\n        if (!response.ok) {\n            const err = await response.json();\n            throw new Error(err.error?.message || \"Error en la API\");\n        }\n\n        const apiResponse = await response.json();\n\n        // âœ… RECONSTRUCCIÃ“N DE LA RESERVA (CON CADENAS ISO PARA REVIVEDATES)\n        const rawNewRes = {\n            ...reservationPayload,\n            id: apiResponse.id,\n            // Las fechas de la API ya vienen como ISO strings, las usamos sin convertirlas a 'Date'\n            startTime: apiResponse.start.dateTime, \n            endTime: apiResponse.end.dateTime\n        };\n        \n        // âœ… APLICAMOS REVIVEDATES AQUÃ ANTES DE ACTUALIZAR EL ESTADO\n        const newRes = reviveDates([rawNewRes])[0];\n\n        setReservations(prev => {\n            if (isModification) {\n                return prev.map(r => r.id === reservationId ? newRes : r);\n            } else {\n                return [newRes, ...prev];\n            }\n        });\n    };\n\n    // =========================================================================\n    // 4. ELIMINAR (DELETE)\n    // =========================================================================\n    const removeById = async (reservationId) => {\n        const account = msalInstance.getActiveAccount();\n        if (!account) return;\n\n        const tokenResponse = await msalInstance.acquireTokenSilent({ ...loginRequest, account });\n        const token = tokenResponse.accessToken;\n\n        const response = await fetch(`https://graph.microsoft.com/v1.0/me/events/${reservationId}`, {\n            method: 'DELETE',\n            headers: { 'Authorization': `Bearer ${token}` }\n        });\n\n        if (response.ok) {\n            setReservations(prev => prev.filter(r => r.id !== reservationId));\n        }\n    };\n\n    // Exponemos todo en el valor del contexto\n    const value = useMemo(() => ({\n        reservations,\n        addOrUpdate,\n        removeById,\n        rooms,            // <--- Estado de salas\n        addOrUpdateRoom,  // <--- FunciÃ³n para crear/editar salas\n        deleteRoom ,       // <--- FunciÃ³n para borrar salas\n        checkAvailability\n    }), [reservations, rooms]);\n\n    return <ReservationsCtx.Provider value={value}>{children}</ReservationsCtx.Provider>;\n};\n\nexport const useReservations = () => {\n    return useContext(ReservationsCtx);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}