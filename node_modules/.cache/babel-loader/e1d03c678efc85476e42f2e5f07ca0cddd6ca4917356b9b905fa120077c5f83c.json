{"ast":null,"code":"import { msalInstance, loginRequest } from \"../msalConfig\";\nexport const ensureAccount = async () => {\n  let account = msalInstance.getActiveAccount() || msalInstance.getAllAccounts()[0];\n  if (!account) {\n    const res = await msalInstance.loginPopup(loginRequest);\n    account = res.account;\n    msalInstance.setActiveAccount(account);\n  }\n  return account;\n};\nexport const acquireToken = async () => {\n  const account = await ensureAccount();\n  try {\n    const res = await msalInstance.acquireTokenSilent({\n      ...loginRequest,\n      account\n    });\n    return res.accessToken;\n  } catch {\n    const res = await msalInstance.acquireTokenPopup(loginRequest);\n    return res.accessToken;\n  }\n};\nexport const logout = () => msalInstance.logoutPopup();","map":{"version":3,"names":["msalInstance","loginRequest","ensureAccount","account","getActiveAccount","getAllAccounts","res","loginPopup","setActiveAccount","acquireToken","acquireTokenSilent","accessToken","acquireTokenPopup","logout","logoutPopup"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/utils/auth.js"],"sourcesContent":["import { msalInstance, loginRequest } from \"../msalConfig\";\n\nexport const ensureAccount = async () => {\n  let account = msalInstance.getActiveAccount() || msalInstance.getAllAccounts()[0];\n  if (!account) {\n    const res = await msalInstance.loginPopup(loginRequest);\n    account = res.account;\n    msalInstance.setActiveAccount(account);\n  }\n  return account;\n};\n\nexport const acquireToken = async () => {\n  const account = await ensureAccount();\n  try {\n    const res = await msalInstance.acquireTokenSilent({ ...loginRequest, account });\n    return res.accessToken;\n  } catch {\n    const res = await msalInstance.acquireTokenPopup(loginRequest);\n    return res.accessToken;\n  }\n};\n\nexport const logout = () => msalInstance.logoutPopup();\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,YAAY,QAAQ,eAAe;AAE1D,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAIC,OAAO,GAAGH,YAAY,CAACI,gBAAgB,CAAC,CAAC,IAAIJ,YAAY,CAACK,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;EACjF,IAAI,CAACF,OAAO,EAAE;IACZ,MAAMG,GAAG,GAAG,MAAMN,YAAY,CAACO,UAAU,CAACN,YAAY,CAAC;IACvDE,OAAO,GAAGG,GAAG,CAACH,OAAO;IACrBH,YAAY,CAACQ,gBAAgB,CAACL,OAAO,CAAC;EACxC;EACA,OAAOA,OAAO;AAChB,CAAC;AAED,OAAO,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,MAAMN,OAAO,GAAG,MAAMD,aAAa,CAAC,CAAC;EACrC,IAAI;IACF,MAAMI,GAAG,GAAG,MAAMN,YAAY,CAACU,kBAAkB,CAAC;MAAE,GAAGT,YAAY;MAAEE;IAAQ,CAAC,CAAC;IAC/E,OAAOG,GAAG,CAACK,WAAW;EACxB,CAAC,CAAC,MAAM;IACN,MAAML,GAAG,GAAG,MAAMN,YAAY,CAACY,iBAAiB,CAACX,YAAY,CAAC;IAC9D,OAAOK,GAAG,CAACK,WAAW;EACxB;AACF,CAAC;AAED,OAAO,MAAME,MAAM,GAAGA,CAAA,KAAMb,YAAY,CAACc,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}