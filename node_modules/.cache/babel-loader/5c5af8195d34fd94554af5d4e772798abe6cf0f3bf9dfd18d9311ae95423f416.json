{"ast":null,"code":"var _jsxFileName = \"/Users/mairaquintero/Desktop/project-salas/src/pages/MyReservations.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { apiDeleteReservation } from '../api/reservations';\nimport { cacheList, cacheRemove } from '../utils/reservationsCache';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MyReservations({\n  accessToken\n}) {\n  _s();\n  const [reservations, setReservations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [busyId, setBusyId] = useState(null);\n  const [msg, setMsg] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    let alive = true;\n    async function tryJSON(url) {\n      const res = await fetch(url, {\n        headers: {\n          Accept: 'application/json',\n          ...(accessToken ? {\n            Authorization: `Bearer ${accessToken}`\n          } : {})\n        }\n      });\n      const ct = res.headers.get('content-type') || '';\n      const text = await res.text();\n      if (!res.ok) throw new Error(`${res.status}`);\n      if (!ct.includes('application/json')) throw new Error(`non-json`);\n      const data = JSON.parse(text);\n      if (!Array.isArray(data)) throw new Error('not-array');\n      return data;\n    }\n    (async () => {\n      setLoading(true);\n      try {\n        var _import$meta, _import$meta$env;\n        const base = ((_import$meta = import.meta) === null || _import$meta === void 0 ? void 0 : (_import$meta$env = _import$meta.env) === null || _import$meta$env === void 0 ? void 0 : _import$meta$env.VITE_API_BASE_URL) || ''; // ej: http://localhost:4000\n        const candidates = [`${base}/api/reservations/mine`, `${base}/api/reservations?mine=true`, `${base}/api/my-reservations`, `${base}/api/reservations` // si el backend filtra por el usuario autenticado\n        ];\n        let data = null,\n          lastErr = null;\n        for (const url of candidates) {\n          try {\n            data = await tryJSON(url);\n            break;\n          } catch (e) {\n            lastErr = e;\n          }\n        }\n        if (!data) {\n          // FALLBACK local\n          const cached = cacheList();\n          if (cached.length) {\n            if (alive) {\n              setReservations(cached);\n              setError('Mostrando reservas en modo offline (cache local). Configura la API para ver datos en vivo.');\n            }\n          } else {\n            throw new Error('No encontré un endpoint válido (404).');\n          }\n        } else {\n          if (alive) setReservations(Array.isArray(data) ? data : []);\n          // si la API funcionó, podrías limpiar cache: cacheClear();\n        }\n        //if (alive) setReservations(Array.isArray(data) ? data : []);\n      } catch (e) {\n        if (alive) setError((e === null || e === void 0 ? void 0 : e.message) || 'No se pudieron cargar tus reservas.');\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [accessToken]);\n  async function handleDelete(r) {\n    const id = r.id || r._id;\n    if (!id) return;\n    if (!window.confirm(`¿Eliminar la reserva “${r.title || 'sin título'}”?`)) return;\n    setBusyId(id);\n    setMsg('');\n    const prev = reservations;\n    setReservations(prev => prev.filter(x => (x.id || x._id) !== id)); // optimista\n    cacheRemove(id);\n    try {\n      await apiDeleteReservation(id, accessToken);\n      setMsg('Reserva eliminada correctamente.');\n    } catch (err) {\n      setReservations(prev); // revertir\n      setMsg((err === null || err === void 0 ? void 0 : err.message) || 'No se pudo eliminar la reserva.');\n    } finally {\n      setBusyId(null);\n      setTimeout(() => setMsg(''), 2500);\n    }\n  }\n  const hhmm = d => d.toLocaleTimeString([], {\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sr-only\",\n      \"aria-live\": \"polite\",\n      children: msg || (loading ? 'Cargando reservas…' : '')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto max-w-4xl mt-6 rounded-xl border border-red-200 dark:border-red-900/40 bg-red-50/70 dark:bg-red-900/20 px-4 py-3 text-sm text-red-800 dark:text-red-200\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), loading && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto max-w-4xl mt-6 text-sm text-gray-600 dark:text-gray-300\",\n      children: \"Cargando tus reservas\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), !loading && !error && reservations.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto max-w-4xl mt-10 rounded-2xl border border-gray-200 dark:border-[#232A36] bg-white dark:bg-[#171B22] p-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 dark:text-gray-200 font-medium\",\n        children: \"A\\xFAn no tienes reservas.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-500 dark:text-gray-400\",\n        children: \"Crea tu primera desde \\u201CCrear Reserva\\u201D.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this), !loading && !error && reservations.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"mx-auto max-w-4xl mt-4 space-y-3\",\n      children: reservations.sort((a, b) => new Date(a.startTime || a.start) - new Date(b.startTime || b.start)).map(r => {\n        var _r$room, _r$room2;\n        const id = r.id || r._id;\n        const start = new Date(r.startTime || r.start);\n        const end = new Date(r.endTime || r.end);\n        const dateStr = start.toLocaleDateString([], {\n          day: '2-digit',\n          month: 'short',\n          year: 'numeric'\n        });\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"rounded-xl bg-white dark:bg-[#171B22] border border-gray-200 dark:border-[#232A36] px-4 py-3 flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-gray-900 dark:text-white\",\n              children: r.title || 'Reserva'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 dark:text-gray-300\",\n              children: [((_r$room = r.room) === null || _r$room === void 0 ? void 0 : _r$room.nombre) || ((_r$room2 = r.room) === null || _r$room2 === void 0 ? void 0 : _r$room2.name) || r.roomId || 'Sala', \" \\xB7 \", dateStr, \", \", hhmm(start), \"\\u2013\", hhmm(end)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(r),\n            disabled: busyId === id,\n            className: \"rounded-lg px-3 py-1.5 text-sm border border-gray-200 dark:border-[#2A3342] hover:bg-gray-50 dark:hover:bg-[#141922] disabled:opacity-60 disabled:cursor-not-allowed\",\n            children: busyId === id ? 'Eliminando…' : 'Eliminar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 19\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-4 right-4 z-50 rounded-xl border px-4 py-2 text-sm bg-white/95 dark:bg-gray-900/95 border-gray-200 dark:border-gray-800 shadow-2xl\",\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(MyReservations, \"GqyI17A+5oAB8KbgzAY1lQeRcUM=\");\n_c = MyReservations;\nvar _c;\n$RefreshReg$(_c, \"MyReservations\");","map":{"version":3,"names":["useEffect","useState","apiDeleteReservation","cacheList","cacheRemove","jsxDEV","_jsxDEV","Fragment","_Fragment","MyReservations","accessToken","_s","reservations","setReservations","loading","setLoading","busyId","setBusyId","msg","setMsg","error","setError","alive","tryJSON","url","res","fetch","headers","Accept","Authorization","ct","get","text","ok","Error","status","includes","data","JSON","parse","Array","isArray","_import$meta","_import$meta$env","base","import","meta","env","VITE_API_BASE_URL","candidates","lastErr","e","cached","length","message","handleDelete","r","id","_id","window","confirm","title","prev","filter","x","err","setTimeout","hhmm","d","toLocaleTimeString","hour","minute","children","className","fileName","_jsxFileName","lineNumber","columnNumber","sort","a","b","Date","startTime","start","map","_r$room","_r$room2","end","endTime","dateStr","toLocaleDateString","day","month","year","room","nombre","name","roomId","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/pages/MyReservations.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { apiDeleteReservation } from '../api/reservations';\nimport { cacheList, cacheRemove } from '../utils/reservationsCache';\n\nexport default function MyReservations({ accessToken }) {\n  const [reservations, setReservations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [busyId, setBusyId] = useState(null);\n  const [msg, setMsg] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    let alive = true;\n\n    async function tryJSON(url) {\n      const res = await fetch(url, {\n        headers: {\n          Accept: 'application/json',\n          ...(accessToken ? { Authorization: `Bearer ${accessToken}` } : {}),\n        },\n      });\n      const ct = res.headers.get('content-type') || '';\n      const text = await res.text();\n      if (!res.ok) throw new Error(`${res.status}`);\n      if (!ct.includes('application/json')) throw new Error(`non-json`);\n      const data = JSON.parse(text);\n      if (!Array.isArray(data)) throw new Error('not-array');\n      return data;\n    }\n\n    (async () => {\n      setLoading(true);\n      try {\n        const base = import.meta?.env?.VITE_API_BASE_URL || ''; // ej: http://localhost:4000\n        const candidates = [\n          `${base}/api/reservations/mine`,\n          `${base}/api/reservations?mine=true`,\n          `${base}/api/my-reservations`,\n          `${base}/api/reservations`, // si el backend filtra por el usuario autenticado\n        ];\n\n        let data = null, lastErr = null;\n        for (const url of candidates) {\n          try {\n            data = await tryJSON(url);\n            break;\n          } catch (e) {\n            lastErr = e;\n          }\n        }\n        if (!data) {\n         // FALLBACK local\n         const cached = cacheList();\n         if (cached.length) {\n           if (alive) {\n             setReservations(cached);\n             setError('Mostrando reservas en modo offline (cache local). Configura la API para ver datos en vivo.');\n           }\n         } else {\n           throw new Error('No encontré un endpoint válido (404).');\n         }\n        } else {\n          if (alive) setReservations(Array.isArray(data) ? data : []);\n          // si la API funcionó, podrías limpiar cache: cacheClear();\n        }\n        //if (alive) setReservations(Array.isArray(data) ? data : []);\n      } catch (e) {\n        if (alive) setError(e?.message || 'No se pudieron cargar tus reservas.');\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n\n    return () => { alive = false; };\n  }, [accessToken]);\n\n  async function handleDelete(r) {\n    const id = r.id || r._id;\n    if (!id) return;\n    if (!window.confirm(`¿Eliminar la reserva “${r.title || 'sin título'}”?`)) return;\n\n    setBusyId(id);\n    setMsg('');\n    const prev = reservations;\n    setReservations(prev => prev.filter(x => (x.id || x._id) !== id)); // optimista\n    cacheRemove(id);\n    try {\n      await apiDeleteReservation(id, accessToken);\n      setMsg('Reserva eliminada correctamente.');\n    } catch (err) {\n      setReservations(prev); // revertir\n      setMsg(err?.message || 'No se pudo eliminar la reserva.');\n    } finally {\n      setBusyId(null);\n      setTimeout(() => setMsg(''), 2500);\n    }\n  }\n\n  const hhmm = (d) => d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n\n  return (\n    <>\n      <div className=\"sr-only\" aria-live=\"polite\">\n        {msg || (loading ? 'Cargando reservas…' : '')}\n      </div>\n\n      {error && (\n        <div className=\"mx-auto max-w-4xl mt-6 rounded-xl border border-red-200 dark:border-red-900/40 bg-red-50/70 dark:bg-red-900/20 px-4 py-3 text-sm text-red-800 dark:text-red-200\">\n          {error}\n        </div>\n      )}\n\n      {loading && !error && (\n        <div className=\"mx-auto max-w-4xl mt-6 text-sm text-gray-600 dark:text-gray-300\">\n          Cargando tus reservas…\n        </div>\n      )}\n\n      {!loading && !error && reservations.length === 0 && (\n        <div className=\"mx-auto max-w-4xl mt-10 rounded-2xl border border-gray-200 dark:border-[#232A36] bg-white dark:bg-[#171B22] p-6 text-center\">\n          <p className=\"text-gray-700 dark:text-gray-200 font-medium\">Aún no tienes reservas.</p>\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">Crea tu primera desde “Crear Reserva”.</p>\n        </div>\n      )}\n\n      {!loading && !error && reservations.length > 0 && (\n        <ul className=\"mx-auto max-w-4xl mt-4 space-y-3\">\n          {reservations\n            .sort((a, b) => new Date(a.startTime || a.start) - new Date(b.startTime || b.start))\n            .map((r) => {\n              const id = r.id || r._id;\n              const start = new Date(r.startTime || r.start);\n              const end = new Date(r.endTime || r.end);\n              const dateStr = start.toLocaleDateString([], { day: '2-digit', month: 'short', year: 'numeric' });\n\n              return (\n                <li\n                  key={id}\n                  className=\"rounded-xl bg-white dark:bg-[#171B22] border border-gray-200 dark:border-[#232A36] px-4 py-3 flex items-start justify-between\"\n                >\n                  <div>\n                    <div className=\"font-semibold text-gray-900 dark:text-white\">{r.title || 'Reserva'}</div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-300\">\n                      {(r.room?.nombre || r.room?.name || r.roomId || 'Sala')} · {dateStr}, {hhmm(start)}–{hhmm(end)}\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => handleDelete(r)}\n                    disabled={busyId === id}\n                    className=\"rounded-lg px-3 py-1.5 text-sm border border-gray-200 dark:border-[#2A3342] hover:bg-gray-50 dark:hover:bg-[#141922] disabled:opacity-60 disabled:cursor-not-allowed\"\n                  >\n                    {busyId === id ? 'Eliminando…' : 'Eliminar'}\n                  </button>\n                </li>\n              );\n            })}\n        </ul>\n      )}\n\n      {msg && (\n        <div className=\"fixed bottom-4 right-4 z-50 rounded-xl border px-4 py-2 text-sm bg-white/95 dark:bg-gray-900/95 border-gray-200 dark:border-gray-800 shadow-2xl\">\n          {msg}\n        </div>\n      )}\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}