{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState, useCallback } from 'react';\nconst THEME_KEY = 'theme'; // 'system' | 'light' | 'dark'\n\nfunction getSystemIsDark() {\n  return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\nfunction applyTheme(theme) {\n  const useDark = theme === 'dark' || theme === 'system' && getSystemIsDark();\n  const root = document.documentElement;\n  root.classList.toggle('dark', useDark);\n  root.style.colorScheme = useDark ? 'dark' : 'light';\n  const meta = document.querySelector('meta[name=\"theme-color\"]');\n  if (meta) meta.setAttribute('content', useDark ? '#0b0b0d' : '#ffffff');\n}\nexport function useDarkMode() {\n  _s();\n  const [mode, setMode] = useState(() => localStorage.getItem(THEME_KEY) || 'system'); // 'system' default\n  const [isDark, setIsDark] = useState(() => {\n    const saved = localStorage.getItem(THEME_KEY);\n    const useDark = saved ? saved === 'dark' || saved === 'system' && getSystemIsDark() : getSystemIsDark();\n    return useDark;\n  });\n\n  // aplica tema cuando cambia mode\n  useEffect(() => {\n    localStorage.setItem(THEME_KEY, mode);\n    applyTheme(mode);\n    setIsDark(mode === 'dark' || mode === 'system' && getSystemIsDark());\n  }, [mode]);\n\n  // escucha cambios del SO SOLO si estamos en 'system'\n  useEffect(() => {\n    if (mode !== 'system') return;\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n    const handler = () => {\n      applyTheme('system');\n      setIsDark(getSystemIsDark());\n    };\n    if (mq.addEventListener) mq.addEventListener('change', handler);else mq.addListener(handler);\n    return () => {\n      if (mq.removeEventListener) mq.removeEventListener('change', handler);else mq.removeListener(handler);\n    };\n  }, [mode]);\n\n  // API del toggle actual: alterna entre dark/light (forzado)\n  const toggle = useCallback(() => {\n    setMode(prev => {\n      const next = prev === 'dark' ? 'light' : 'dark';\n      return next === 'dark' ? 'dark' : 'light';\n    });\n  }, []);\n\n  // Permite volver a automático (seguir sistema)\n  const setSystem = useCallback(() => setMode('system'), []);\n  const setLight = useCallback(() => setMode('light'), []);\n  const setDark = useCallback(() => setMode('dark'), []);\n  return {\n    isDark,\n    mode,\n    toggle,\n    setSystem,\n    setLight,\n    setDark\n  };\n}\n_s(useDarkMode, \"KuAHSBIKB5bPk5kT/8ochqOHbgM=\");","map":{"version":3,"names":["useEffect","useState","useCallback","THEME_KEY","getSystemIsDark","window","matchMedia","matches","applyTheme","theme","useDark","root","document","documentElement","classList","toggle","style","colorScheme","meta","querySelector","setAttribute","useDarkMode","_s","mode","setMode","localStorage","getItem","isDark","setIsDark","saved","setItem","mq","handler","addEventListener","addListener","removeEventListener","removeListener","prev","next","setSystem","setLight","setDark"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/hooks/useDarkMode.js"],"sourcesContent":["import { useEffect, useState, useCallback } from 'react';\n\nconst THEME_KEY = 'theme'; // 'system' | 'light' | 'dark'\n\nfunction getSystemIsDark() {\n  return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\n\nfunction applyTheme(theme) {\n  const useDark = theme === 'dark' || (theme === 'system' && getSystemIsDark());\n  const root = document.documentElement;\n  root.classList.toggle('dark', useDark);\n  root.style.colorScheme = useDark ? 'dark' : 'light';\n  const meta = document.querySelector('meta[name=\"theme-color\"]');\n  if (meta) meta.setAttribute('content', useDark ? '#0b0b0d' : '#ffffff');\n}\n\nexport function useDarkMode() {\n  const [mode, setMode] = useState(() => localStorage.getItem(THEME_KEY) || 'system'); // 'system' default\n  const [isDark, setIsDark] = useState(() => {\n    const saved = localStorage.getItem(THEME_KEY);\n    const useDark = saved\n      ? (saved === 'dark' || (saved === 'system' && getSystemIsDark()))\n      : getSystemIsDark();\n    return useDark;\n  });\n\n  // aplica tema cuando cambia mode\n  useEffect(() => {\n    localStorage.setItem(THEME_KEY, mode);\n    applyTheme(mode);\n    setIsDark(mode === 'dark' || (mode === 'system' && getSystemIsDark()));\n  }, [mode]);\n\n  // escucha cambios del SO SOLO si estamos en 'system'\n  useEffect(() => {\n    if (mode !== 'system') return;\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n    const handler = () => {\n      applyTheme('system');\n      setIsDark(getSystemIsDark());\n    };\n    if (mq.addEventListener) mq.addEventListener('change', handler);\n    else mq.addListener(handler);\n    return () => {\n      if (mq.removeEventListener) mq.removeEventListener('change', handler);\n      else mq.removeListener(handler);\n    };\n  }, [mode]);\n\n  // API del toggle actual: alterna entre dark/light (forzado)\n  const toggle = useCallback(() => {\n    setMode(prev => {\n      const next = (prev === 'dark') ? 'light' : 'dark';\n      return next === 'dark' ? 'dark' : 'light';\n    });\n  }, []);\n\n  // Permite volver a automático (seguir sistema)\n  const setSystem = useCallback(() => setMode('system'), []);\n  const setLight = useCallback(() => setMode('light'), []);\n  const setDark  = useCallback(() => setMode('dark'),  []);\n\n  return { isDark, mode, toggle, setSystem, setLight, setDark };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}