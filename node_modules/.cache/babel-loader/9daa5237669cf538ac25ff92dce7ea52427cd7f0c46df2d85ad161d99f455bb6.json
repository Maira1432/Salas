{"ast":null,"code":"// src/utils/ics.js\nconst fmt = d => new Date(d).toISOString().replace(/[-:]/g, '').replace(/\\.\\d{3}Z$/, 'Z');\nexport const buildICS = r => {\n  var _r$room;\n  const uid = (r.outlookEventId || r.id) + '@salas-fyco';\n  const lines = ['BEGIN:VCALENDAR', 'VERSION:2.0', 'PRODID:-//Salas FYCO//ES', 'CALSCALE:GREGORIAN', 'METHOD:PUBLISH', 'BEGIN:VEVENT', `UID:${uid}`, `DTSTAMP:${fmt(new Date())}`, `DTSTART:${fmt(r.startTime)}`, `DTEND:${fmt(r.endTime)}`, `SUMMARY:${(r.title || '').replace(/\\r?\\n/g, ' ')}`, `DESCRIPTION:${(r.description || '').replace(/\\r?\\n/g, ' ')}`, `LOCATION:${(((_r$room = r.room) === null || _r$room === void 0 ? void 0 : _r$room.nombre) || 'Sala').replace(/\\r?\\n/g, ' ')}`, 'END:VEVENT', 'END:VCALENDAR'];\n  return lines.join('\\r\\n');\n};\nexport const downloadICS = r => {\n  const blob = new Blob([buildICS(r)], {\n    type: 'text/calendar;charset=utf-8'\n  });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `${r.title || 'reserva'}.ics`;\n  a.click();\n  URL.revokeObjectURL(url);\n};","map":{"version":3,"names":["fmt","d","Date","toISOString","replace","buildICS","r","_r$room","uid","outlookEventId","id","lines","startTime","endTime","title","description","room","nombre","join","downloadICS","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL"],"sources":["/Users/mairaquintero/Desktop/project-salas/src/utils/ics.js"],"sourcesContent":["// src/utils/ics.js\nconst fmt = (d) => new Date(d).toISOString().replace(/[-:]/g, '').replace(/\\.\\d{3}Z$/, 'Z');\n\nexport const buildICS = (r) => {\n  const uid = (r.outlookEventId || r.id) + '@salas-fyco';\n  const lines = [\n    'BEGIN:VCALENDAR',\n    'VERSION:2.0',\n    'PRODID:-//Salas FYCO//ES',\n    'CALSCALE:GREGORIAN',\n    'METHOD:PUBLISH',\n    'BEGIN:VEVENT',\n    `UID:${uid}`,\n    `DTSTAMP:${fmt(new Date())}`,\n    `DTSTART:${fmt(r.startTime)}`,\n    `DTEND:${fmt(r.endTime)}`,\n    `SUMMARY:${(r.title || '').replace(/\\r?\\n/g, ' ')}`,\n    `DESCRIPTION:${(r.description || '').replace(/\\r?\\n/g, ' ')}`,\n    `LOCATION:${(r.room?.nombre || 'Sala').replace(/\\r?\\n/g, ' ')}`,\n    'END:VEVENT',\n    'END:VCALENDAR'\n  ];\n  return lines.join('\\r\\n');\n};\n\nexport const downloadICS = (r) => {\n  const blob = new Blob([buildICS(r)], { type: 'text/calendar;charset=utf-8' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `${(r.title || 'reserva')}.ics`;\n  a.click();\n  URL.revokeObjectURL(url);\n};\n"],"mappings":"AAAA;AACA,MAAMA,GAAG,GAAIC,CAAC,IAAK,IAAIC,IAAI,CAACD,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC;AAE3F,OAAO,MAAMC,QAAQ,GAAIC,CAAC,IAAK;EAAA,IAAAC,OAAA;EAC7B,MAAMC,GAAG,GAAG,CAACF,CAAC,CAACG,cAAc,IAAIH,CAAC,CAACI,EAAE,IAAI,aAAa;EACtD,MAAMC,KAAK,GAAG,CACZ,iBAAiB,EACjB,aAAa,EACb,0BAA0B,EAC1B,oBAAoB,EACpB,gBAAgB,EAChB,cAAc,EACd,OAAOH,GAAG,EAAE,EACZ,WAAWR,GAAG,CAAC,IAAIE,IAAI,CAAC,CAAC,CAAC,EAAE,EAC5B,WAAWF,GAAG,CAACM,CAAC,CAACM,SAAS,CAAC,EAAE,EAC7B,SAASZ,GAAG,CAACM,CAAC,CAACO,OAAO,CAAC,EAAE,EACzB,WAAW,CAACP,CAAC,CAACQ,KAAK,IAAI,EAAE,EAAEV,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,EACnD,eAAe,CAACE,CAAC,CAACS,WAAW,IAAI,EAAE,EAAEX,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,EAC7D,YAAY,CAAC,EAAAG,OAAA,GAAAD,CAAC,CAACU,IAAI,cAAAT,OAAA,uBAANA,OAAA,CAAQU,MAAM,KAAI,MAAM,EAAEb,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,EAC/D,YAAY,EACZ,eAAe,CAChB;EACD,OAAOO,KAAK,CAACO,IAAI,CAAC,MAAM,CAAC;AAC3B,CAAC;AAED,OAAO,MAAMC,WAAW,GAAIb,CAAC,IAAK;EAChC,MAAMc,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAChB,QAAQ,CAACC,CAAC,CAAC,CAAC,EAAE;IAAEgB,IAAI,EAAE;EAA8B,CAAC,CAAC;EAC7E,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;EACrC,MAAMM,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EACrCF,CAAC,CAACG,IAAI,GAAGN,GAAG;EACZG,CAAC,CAACI,QAAQ,GAAG,GAAIxB,CAAC,CAACQ,KAAK,IAAI,SAAS,MAAO;EAC5CY,CAAC,CAACK,KAAK,CAAC,CAAC;EACTP,GAAG,CAACQ,eAAe,CAACT,GAAG,CAAC;AAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}